var d=Object.defineProperty;var a=(r,e,n)=>e in r?d(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var c=(r,e,n)=>(a(r,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();const u=(r=0)=>new Promise(e=>{setTimeout(e,r)});class l{constructor(){c(this,"keys");this.keys=document.querySelectorAll(".key"),this.setupEventListeners(),this.playSound=this.playSound.bind(this),this.removeTransition=this.removeTransition.bind(this),this.clickPlaySound=this.clickPlaySound.bind(this),this.init()}playSound(e){const n=document.querySelector(`audio[data-key="${e.code}"]`),i=document.querySelector(`.key[data-key="${e.code}"]`);n&&(i.classList.add("playing"),n.currentTime=0,n.play())}removeTransition(e){const n=document.querySelector(`.key[data-key="${e.code}"]`);n&&n.classList.remove("playing")}async clickPlaySound(e){const i=e.currentTarget.dataset.key,t=document.querySelector(`audio[data-key="${i}"]`),o=document.querySelector(`.key[data-key="${i}"]`);t&&(o.classList.add("playing"),t.currentTime=0,t.play(),await u(50),o.classList.remove("playing"))}setupEventListeners(){window.addEventListener("keydown",this.playSound),window.addEventListener("keyup",this.removeTransition);for(const e of this.keys)e.addEventListener("click",n=>this.clickPlaySound)}init(){this.setupEventListeners()}destroy(){window.removeEventListener("keydown",this.playSound),window.removeEventListener("keyup",this.removeTransition);for(const e of this.keys)e.removeEventListener("click",n=>this.clickPlaySound)}}const y=()=>new l;window.addEventListener("DOMContentLoaded",y);
